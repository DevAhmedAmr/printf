#include <stdio.h>
#include <string.h>
#include <vadefs.h>
// #include <vcruntime.h>
void toHexa(int *bytes, int *num)
{
    if (*num == 0) {
        putchar('0');
        *bytes += 1;
    } else {
        putchar(*num % 16 + '0');
        *bytes += 1;
    }
}
int nonPrintAscii(char *upStr)
{
	int i, j, byets;
	// char* upStr;

// upStr = va_arg(arg, char*);
	for (i = 0; upStr[i] !='\0'; i++)
	{
		if((upStr[i] > 0 && upStr[i] < 32) || upStr[i] >= 127)
			{
				putchar('\\');
				putchar('x');
				putchar('0');
				byets+=3;
					if (upStr[i] > 0 && upStr[i] <= 15)
					{
						putchar( 'A' + (upStr[i] - 10));
						byets++;
					}
					if (upStr[i] > 15  && upStr[i] == 127)
					{
						int Brack = 0, num = 0;
						while (1)
						{
							Brack = (num / 16 == 0) ? 1 :0;
							num = upStr[i];
							toHexa(&byets, &num);
							num = num / 16;
							if (Brack == 1)
								break;

						}
					}
			}
		else
			{
			putchar(upStr[i]);
			byets++;
			}
			fflush(stdout);
	}
	return (byets);
}
int main()
{
	int n, n1, n2;
	char *x = NULL ,*empty = "", *hexStr = "Best\nSchool\t";
	n1 = printf("NULL char* %s\n",x);
	n2 = printf("empty char* %s\n",empty);
	printf("n1[%i]n2[%i]\n", n1, n2);
	nonPrintAscii(hexStr);


}
